# Render.com deployment configuration
# This file defines how your application should be deployed on Render
# 
# To use this file:
# 1. Push your code to GitHub
# 2. In Render dashboard, create a new Web Service
# 3. Connect your GitHub repository
# 4. Render will automatically detect this render.yaml file
# 
# Alternatively, you can configure manually in the Render dashboard

services:
  # Web service configuration
  - type: web
    name: forex-trading-signals-api
    # Runtime environment
    env: python
    # Build command - installs dependencies
    buildCommand: pip install -r requirements.txt
    # Start command - uses gunicorn for production
    # --workers 2 is optimized for free tier (512MB RAM)
    # Increase workers for paid tiers
    startCommand: gunicorn app:app --workers 2 --timeout 120
    # Environment variables (optional - you can also set these in Render dashboard)
    envVars:
      - key: PYTHON_VERSION
        value: 3.10.0  # Match your local Python version
      - key: PORT
        value: 10000  # Render will override this automatically
      - key: FLASK_DEBUG
        value: "False"  # Disable debug mode in production
      - key: FLASK_ENV
        value: "production"  # Set to production environment
    # Health check path
    healthCheckPath: /api/health
    # Auto-deploy from main branch
    plan: free  # Change to 'starter' or 'standard' for paid plans

